module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@emotion/hash")},function(e,t){e.exports=require("lodash.kebabcase")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("react-inlinesvg")},function(e,t){e.exports=require("react-hotkeys-hook")},function(e,t,n){"use strict";n.r(t),n.d(t,"Editmode",(function(){return P})),n.d(t,"Chunk",(function(){return A})),n.d(t,"ChunkCollection",(function(){return B})),n.d(t,"ChunkFieldValue",(function(){return G})),n.d(t,"useChunk",(function(){return C})),n.d(t,"useGetChunk",(function(){return Y})),n.d(t,"useCollectionChunks",(function(){return Q})),n.d(t,"CustomChunkCollection",(function(){return te})),n.d(t,"ChunkCollectionContext",(function(){return D})),n.d(t,"CollectionItemWrapper",(function(){return ne}));var r=n(0),o=n.n(r);const c=Object(r.createContext)({branch:null,projectId:null,defaultChunks:[],next:!1}),i=()=>"undefined"!=typeof window,a=e=>{if(i())return localStorage.getItem(e)},l=(e,t)=>{i()&&localStorage.setItem(e,JSON.stringify(t))};var u=n(1),d=n.n(u),f=n(2),p=n.n(f);var m=new function(){var e={A:!0,ABBR:!0,B:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CENTER:!0,CODE:!0,DIV:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IMG:!0,LABEL:!0,LI:!0,OL:!0,P:!0,PRE:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRONG:!0,TABLE:!0,TBODY:!0,TR:!0,TD:!0,TH:!0,THEAD:!0,UL:!0,U:!0,VIDEO:!0},t={FORM:!0},n={align:!0,color:!0,controls:!0,height:!0,href:!0,src:!0,style:!0,target:!0,title:!0,type:!0,width:!0},r={color:!0,"background-color":!0,"font-size":!0,"text-align":!0,"text-decoration":!0,"font-weight":!0},o=["http:","https:","data:","m-files:","file:","ftp:"],c={href:!0,action:!0};function i(e,t){for(var n=0;n<t.length;n++)if(0==e.indexOf(t[n]))return!0;return!1}this.SanitizeHtml=function(a){if(!a||""==a)return"";if("<br>"==a)return"";var l=document.createElement("iframe");l.sandbox="allow-same-origin",l.style.display="none",document.body.appendChild(l);var u=l.contentDocument||l.contentWindow.document;null==u.body&&u.write("<body></body>"),u.body.innerHTML=a;var d=function a(l){if(l.nodeType==Node.TEXT_NODE)var d=l.cloneNode(!0);else if(l.nodeType==Node.ELEMENT_NODE&&(e[l.tagName]||t[l.tagName])){if(("SPAN"==l.tagName||"B"==l.tagName||"I"==l.tagName||"U"==l.tagName)&&""==l.innerHTML.trim())return document.createDocumentFragment();d=t[l.tagName]?u.createElement("DIV"):u.createElement(l.tagName);for(var f=0;f<l.attributes.length;f++){var p=l.attributes[f];if(n[p.name])if("style"==p.name)for(s=0;s<l.style.length;s++){var m=l.style[s];r[m]&&d.style.setProperty(m,l.style.getPropertyValue(m))}else{if(c[p.name]&&p.value.indexOf(":")>-1&&!i(p.value,o))continue;d.setAttribute(p.name,p.value)}}for(f=0;f<l.childNodes.length;f++){var h=a(l.childNodes[f]);d.appendChild(h,!1)}}else d=document.createDocumentFragment();return d}(u.body);return document.body.removeChild(l),d.innerHTML.replace(/<br[^>]*>(\S)/g,"<br>\n$1").replace(/div><div/g,"div>\n<div")},this.AllowedTags=e,this.AllowedAttributes=n,this.AllowedCssStyles=r,this.AllowedSchemas=o};function h(e="",t=""){return e=e?`${e} ${t}`:t}var y=n(3);const v=n.n(y).a.create({baseURL:"https://api2.editmode.com/",headers:{Accept:"application/json",referrer:"undefined"!=typeof window?window.location.href:""}});var b=n(4),g=n.n(b);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=function(e,t,n){var r=((e,t)=>{const n=m.SanitizeHtml(e.content),r={...e,content:n},o=(r.content.match(/\{{(.*?)\}}/g)||[]).map(e=>e.substr(2,e.length-4));let c=r.content;return o&&o.forEach((function(e){const n=t.variables&&t.variables[e]||"",r=`<em-var data-chunk-variable="${e}" data-chunk-variable-value="${n}">${n}</em-var>`;c=c.replace(`{{${e}}}`,r)})),{chunk:r,parsedChunk:c}})(e,t),c=r.chunk,i=r.parsedChunk,a=t.transformation;a&&"image"==c.chunk_type&&(c.content=((e,t)=>{try{t=t.trim().replace(/\s+/g," ").replace(" ",",");let n=new URL(e);return n.searchParams.append("tr",t),n.toString()}catch(t){return console.warn(t),e}})(c.content,a));var l={"data-chunk":c.identifier,"data-chunk-editable":!0,"data-chunk-content-key":c.content_key,"data-chunk-type":c.chunk_type,"data-chunk-cache-id":n,key:c.identifier,class:t.className||""};switch(c.chunk_type){case"single_line_text":case"long_text":return o.a.createElement("em-span",O({},l,{dangerouslySetInnerHTML:{__html:i}},t));case"rich_text":return o.a.createElement("em-span",O({},l,{dangerouslySetInnerHTML:{__html:i}},t,{class:"editmode-richtext-editor "+(t.className||"")}));case"image":return null!=c.content.match(/\.(svg)/)?o.a.createElement(g.a,O({},l,{src:c.content,"data-chunk-editable":!1,alt:"",wrapper:"svg"},t)):c.content?o.a.createElement("img",O({},l,{src:c.content,"data-chunk-editable":!1,alt:""},t)):o.a.createElement("svg",O({},l,{"data-chunk-editable":!1,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},t),o.a.createElement("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"}));default:return o.a.createElement("span",t,i)}};const j=e=>{try{return JSON.parse(e)}catch(e){return null}};var k={zIndex:9999,bottom:8,right:8,position:"fixed",opacity:1,display:"flex",alignItems:"center",background:"rgba(255,255,255, 0.9)",cursor:"pointer",borderRadius:5,padding:"2px 5px 2px 2px",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1),0 1px 2px 0 rgba(0, 0, 0, 0.06)"};function E(e){var t=e.projectId;return o.a.createElement("div",{style:k,onClick:function(){return window.open("https://editmode.com?ref=pb&pid=".concat(t))}},o.a.createElement("svg",{preserveAspectRatio:"xMidYMid meet",version:"1.0",viewBox:"0 0 22 23",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",style:{marginRight:"5px"}},o.a.createElement("g",{opacity:".8"},o.a.createElement("path",{d:"m1.6925 4.2131s6.9175-3.7666 7.5952-4.1192c0.67776-0.35253 1.2739 0.35253 1.2739 1.025v8.0945c0 1.7257-0.2199 1.7257-0.92232 2.1684-0.70239 0.4428-7.9929 4.3926-8.3935 4.5953-0.40061 0.2028-1.2459-0.0997-1.2459-1.0136v-8.4086c0-1.5545 1.6925-2.3418 1.6925-2.3418z","clip-rule":"evenodd",fill:"#203260","fill-rule":"evenodd"}),o.a.createElement("mask",{id:"b",x:"0",y:"0",width:"11",height:"17","mask-type":"alpha",maskUnits:"userSpaceOnUse"},o.a.createElement("path",{d:"m1.6925 4.2131s6.9175-3.7666 7.5952-4.1192c0.67776-0.35253 1.2739 0.35253 1.2739 1.025v8.0945c0 1.7257-0.2199 1.7257-0.92232 2.1684-0.70239 0.4428-7.9929 4.3926-8.3935 4.5953-0.40061 0.2028-1.2459-0.0997-1.2459-1.0136v-8.4086c0-1.5545 1.6925-2.3418 1.6925-2.3418z","clip-rule":"evenodd",fill:"#fff","fill-rule":"evenodd"})),o.a.createElement("g",{mask:"url(#b)"},o.a.createElement("path",{d:"m2.9346 7.9074s6.9175-3.7666 7.5952-4.1192c0.6778-0.35254 1.2739 0.35253 1.2739 1.025v8.0944c0 1.7258-0.2199 1.7258-0.9223 2.1685s-7.9929 4.3925-8.3935 4.5953-1.2458-0.0997-1.2458-1.0136v-8.4087c0-1.5545 1.6925-2.3418 1.6925-2.3418z","clip-rule":"evenodd",fill:"#000719","fill-rule":"evenodd"})),o.a.createElement("path",{d:"m6.978 7.3208s6.9175-3.7666 7.5952-4.1192c0.6778-0.35254 1.2739 0.35253 1.2739 1.025v8.0945c0 1.7257-0.2199 1.7257-0.9223 2.1684-0.7023 0.4428-7.9929 4.3926-8.3935 4.5954-0.40061 0.2027-1.2459-0.0998-1.2459-1.0137v-8.4086c0-1.5545 1.6925-2.3418 1.6925-2.3418z","clip-rule":"evenodd",fill:"#223464","fill-rule":"evenodd"}),o.a.createElement("mask",{id:"a",x:"5",y:"3",width:"11",height:"17","mask-type":"alpha",maskUnits:"userSpaceOnUse"},o.a.createElement("path",{d:"m6.978 7.3208s6.9175-3.7666 7.5952-4.1192c0.6778-0.35254 1.2739 0.35253 1.2739 1.025v8.0945c0 1.7257-0.2199 1.7257-0.9223 2.1684-0.7023 0.4428-7.9929 4.3926-8.3935 4.5954-0.40061 0.2027-1.2459-0.0998-1.2459-1.0137v-8.4086c0-1.5545 1.6925-2.3418 1.6925-2.3418z","clip-rule":"evenodd",fill:"#fff","fill-rule":"evenodd"})),o.a.createElement("g",{mask:"url(#a)"},o.a.createElement("path",{d:"m8.4483 11.062s6.9175-3.7667 7.5952-4.1192c0.6778-0.35253 1.2739 0.35254 1.2739 1.025v8.0945c0 1.7257-0.2199 1.7257-0.9222 2.1684-0.7024 0.4428-7.993 4.3926-8.3936 4.5954-0.40061 0.2027-1.2458-0.0998-1.2458-1.0136v-8.4087c0-1.5546 1.6925-2.3418 1.6925-2.3418z","clip-rule":"evenodd",fill:"#000719","fill-rule":"evenodd"})),o.a.createElement("path",{d:"m12.543 10.883s6.9235-3.7101 7.6019-4.0573c0.6783-0.34725 1.275 0.34724 1.275 1.0096v7.9731c0 1.6998-0.2201 1.6998-0.9231 2.1359s-7.9999 4.3267-8.4009 4.5264c-0.4009 0.1997-1.2469-0.0983-1.2469-0.9984v-8.2826c0-1.5312 1.694-2.3067 1.694-2.3067z","clip-rule":"evenodd",fill:"#405489","fill-rule":"evenodd"}))),o.a.createElement("span",{style:{fontSize:13,fontWeight:600}},"Powered by Editmode"))}var _=n(5);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,c=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=e.children,n=e.projectId,a=e.defaultChunks,l=e.branchId,u=void 0===l?"":l,d=e.next,s=void 0!==d&&d,f=S(Object(r.useState)(""),2),p=f[0],m=f[1],h=S(Object(r.useState)(null),2),y=h[0],b=h[1],g=S(Object(r.useState)(!1),2),O=g[0],w=g[1];if("undefined"!=typeof window&&(window.chunksPresetBranchId=u),Object(_.useHotkeys)("cmd+shift+e",(function(){w(!O)})),!n)throw new Error("<Editmode projectId={...}> is missing a valid projectId");var j=n+"_provider";return Object(r.useEffect)((function(){var e=new URL(document.location.href).searchParams;m(u||e.get("em_branch_id")),w(window.location.href.indexOf("editmode")>-1),u&&O&&(e.set("em_branch_id","".concat(u)),history.pushState(null,null,"?"+e.toString())),window.chunksProjectIdentifier=n,window.chunksAppFramework="reactjs";var t=(e=>{if(i()){const t=localStorage.getItem(e);if(!t)return null;const n=JSON.parse(t);return(new Date).getTime()>n.expiry?(localStorage.removeItem(e),null):n.value}})(j);t&&(window.chunksProjectLoaded=!0);var r=document.createElement("script");(r.src="https://unpkg.com/editmode-magic-editor@~1/dist/magic-editor.js",window.magicEditorInjected||(r.setAttribute("async",""),document.body.append(r),window.magicEditorInjected=!0),t)?t.has_watermark&&b(!0):v.get("/projects/".concat(n)).then((function(e){((e,t)=>{if(i()){const n={value:t,expiry:new Date((new Date).setHours((new Date).getHours()+1)).getTime()};localStorage.setItem(e,JSON.stringify(n))}})(j,e.data),e.data.has_watermark&&b(!0)})).catch((function(e){console.error(e)}))}),[p,O]),o.a.createElement(c.Provider,{value:{branch:p,projectId:n,defaultChunks:a,next:s}},t,y&&o.a.createElement(E,{projectId:n}))}function C(e,{identifier:t,type:n,contentKey:o,field:i}){e=(e=>{let t=e;return Array.isArray(e)&&(t=e.join("")),t})(e);const{projectId:u,defaultChunks:s,branch:f,next:m}=Object(r.useContext)(c);let[h,y]=Object(r.useState)(void 0);o||(o=e?function(e){if("string"==typeof e)return`${p()(e.slice(0,32))}-${d()(e)}`;console.error(`Cannot compute chunk.content_key. Expected a string, received ${typeof e}.`)}(e):null);let b,g=t||o+u+i;if(void 0!==s&&(b=Object(r.useMemo)(()=>t?s.find(e=>e.identifier===t):s.find(e=>e.content_key===o&&e.project_id==u),[s,t,f])),Object(r.useEffect)(()=>{if(m){if(m&&s){let e;e=t?s.find(e=>e.identifier===t||e.content_key===t):s.find(e=>e.content_key===o&&e.project_id==u),y(e)}}else{let r=new URL(document.location.href).searchParams;const c=f||r.get("em_branch_id")||"";let i=`chunks/${t||o}?project_id=${u}&${c&&"branch_id="+c||""}`;c&&(g+=c);let d,s=a(g),p=s&&j(s)||b||{chunk_type:n||"single_line_text",content:e,content_key:o};p&&y(p),v.get(i).then(e=>{e.data.message||(l(g,e.data),s||y(e.data))}).catch(e=>console.log(e)),d&&t&&console.warn(`Something went wrong trying to retrieve chunk data: ${d}. Have you provided the correct Editmode identifier (${t}) as a prop to your Chunk component instance?`)}},[g,f,s]),h&&"collection_item"==h.chunk_type&&i){i=i.toLowerCase();const e=h.content.find(e=>e.custom_field_identifier.toLowerCase()==i||e.custom_field_name.toLowerCase()==i);if(!e)return{Component:()=>null};y(e)}return h?{Component:e=>w(h,e,g),content:h.content}:{Component:()=>null}}var I=["children","identifier","src","contentKey","field"];function N(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function A(e){var t=e.children,n=e.identifier,r=e.src,c=e.contentKey,i=e.field,a=void 0===i?"":i,l=N(e,I),u=C(r||t,{identifier:n,type:r?"image":void 0,contentKey:c,field:a}).Component;return o.a.createElement(u,l)}const D=Object(r.createContext)(null);var L=["children"];function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,c=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e){var t=e.children,n=e.className,i=e.identifier,u=e.limit,d=void 0===u?"":u,s=e.tags,f=void 0===s?[]:s,p=e.itemClass,m=void 0===p?"":p,y=e.contentKey,b=void 0===y?null:y,g=U(Object(r.useState)([]),2),O=g[0],w=g[1],j=i+d+f.join(""),k=Object(r.useContext)(c),E=k.projectId,_=k.branch,S=k.defaultChunks,x=k.next;if(Object(r.useEffect)((function(){if(x){if(x&&S){var e;e=S.filter((function(e){return e.collection&&e.collection.identifier==i||e.collection&&e.collection.name==i||e.collection&&e.collection.content_key==i})),f&&(e=((e,t)=>e.filter(e=>t.every(t=>e.collection&&e.tags&&e.tags.includes(t))))(e,f)),w(e)}}else{var t=a(j);if(t){var n=JSON.parse(t);w(n)}var r=new URL(document.location.href).searchParams,o=_||r.get("em_branch_id")||"",c=new URLSearchParams({limit:d,collection_identifier:i||b,project_id:E,branch_id:o});f.forEach((function(e){return c.append("tags[]",e)})),v.get("chunks?".concat(c)).then((function(e){if(e.data.error)throw e.data.error;l(j,e.data.chunks),t||w(e.data.chunks)})).catch((function(e){console.error("Something went wrong trying to retrieve chunk collection: ".concat(e,". Have you provided the correct Editmode identifier as a prop to your ChunkCollection component instance?"))}))}}),[i,S]),null==O||!O.length)return null;var P=O.length?M(M({},O[0]),{},{placeholder:!0}):{};function C(e,t){var n=e.content.find((function(e){return e.custom_field_name==t}));return n&&void 0!==n?n.content:""}return o.a.createElement("div",{className:h(n,"chunks-collection-wrapper"),"data-chunk-cache-id":j,"data-chunk-collection-identifier":i,"data-chunk-tags":f?f.join("|"):""},O.map((function(e,n){return o.a.createElement(D.Provider,{key:e.identifier,value:e},o.a.createElement("div",{className:h(m,"chunks-collection-item--wrapper")},"function"==typeof t?t(C,e,n):t))})),O.length&&o.a.createElement(D.Provider,{key:O[0].identifier+"dummy",value:P},o.a.createElement(K,{className:h("chunks-col-placeholder-wrapper")},"function"==typeof t?t(C,P,0):t)))}function K(e){var t=e.children,n=H(e,L);return console.log,o.a.createElement("em-template",T({},n,{style:{display:"none"}}),t)}var q=["children","identifier","transformation"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function G(e){e.children;var t=e.identifier,n=(e.transformation,W(e,q)),o=Object(r.useContext)(D);if(!o)return null;var c=o.content.find((function(e){return e.custom_field_identifier===t||e.custom_field_name===t}));if(!c)return console.warn("Could not find field ".concat(t," for ").concat(o.collection.name)),null;var i=(null==o?void 0:o.placeholder)&&J(J({},c),{},{identifier:"",content:""});return o&&c&&(n=J(J({},n),{},{"data-parent-identifier":o.identifier,"data-custom-field-identifier":c.custom_field_identifier})),w(i||c,n)}const Y=(e,t="",n="")=>{const{projectId:o,defaultChunks:i,next:u}=Object(r.useContext)(c),[d,s]=Object(r.useState)(o),[f,p]=Object(r.useState)(void 0),m=e+d+t;if(Object(r.useEffect)(()=>{let r;if(u)u&&i&&(r=e?i.find(t=>t.content_key===e||t.identifier===e):i.find(e=>e.content_key===contentKey&&e.project_id==o),p(r));else{!d&&window.chunksProjectIdentifier&&s(window.chunksProjectIdentifier);const r=a(m),o=r&&j(r)||{chunk_type:"single_line_text",content:n};p(o);let c=`chunks/${e}?project_id=${d}`;v.get(c).then(e=>{e.data.error||e.data.message||(l(m,e.data),r||p(e.data))}).catch(n=>console.error(n,e,t))}},[m,i]),t&&f&&"collection_item"==f.chunk_type){t=t.toLowerCase();const n=f.content.find(e=>e.custom_field_identifier.toLowerCase()==t||e.custom_field_name.toLowerCase()==t);if(!n)return console.error(`We can't find a ${e} content with ${t} field`),"";p(n)}return f&&f.content||""};function Q(e,t="",n=[]){const[o,c]=Object(r.useState)([]),i=e+t+n.join("");return Object(r.useEffect)(()=>{const r=a(i);if(r){const e=JSON.parse(r);c(e)}const o=new URLSearchParams({limit:t,collection_identifier:e});n.forEach(e=>o.append("tags[]",e)),v.get("chunks?"+o).then(e=>{l(i,e.data.chunks),r||c(e.data.chunks)}).catch(e=>{console.error(`Something went wrong trying to retrieve chunk collection: ${e}. Have you provided the correct Editmode identifier as a prop to your ChunkCollection component instance?`)})},[e]),o||o.length?o:null}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){var t=e.chunks,n=e.className,r=e.children,c=e.identifier,i=e.tags,a=void 0===i?[]:i,l=e.limit,u=void 0===l?"":l,d=e.itemClass,s=void 0===d?"":d,f=c+u+a.join(""),p=t.length?Z(Z({},t[0]),{},{placeholder:!0}):{};return o.a.createElement("div",{className:n?n+" chunks-collection-wrapper":"chunks-collection-wrapper","data-chunk-cache-id":f,"data-chunk-collection-identifier":c},r,t.length&&o.a.createElement(D.Provider,{key:t[0].identifier+"dummy",value:p},o.a.createElement("div",{className:h(s,"chunks-col-placeholder-wrapper chunks-hide")},r)))}function ne(e){var t=e.chunk,n=e.children,r=e.className,c=void 0===r?"":r;return o.a.createElement(D.Provider,{value:t},o.a.createElement("div",{className:h(c,"chunks-collection-item--wrapper")},n))}}]);